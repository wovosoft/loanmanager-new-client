(window.webpackJsonp=window.webpackJsonp||[]).push([[22,4,6,8,9,10],{339:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=function(t,data){return t.$bvToast.toast(data.message,{title:data.title||"SUCCESS",variant:data.type||"success",autoHideDelay:data.delay||3e3,appendToast:!0})},l=function(t,data){var e=t.$createElement,content=[],r=[];if(data.errors)for(var n in data.errors)r.push(e("li",data.errors[n]));content.push(e("ol",{class:["pl-3"]},r));var l=e("div",[e("h5",{class:"font-weight-bold"},data.message||"Operation Failed"),content]);return t.$bvToast.toast(l,{title:data.title||"FAILED",variant:data.type||"danger",autoHideDelay:data.delay||5e3,appendToast:!0})},o=function(t,e,r,data){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"the_form";if(!t.$refs[o].checkValidity())return t.$refs[o].reportValidity(),!1;t.$axios.post(r,data).then((function(r){n(t,r.data),t.$emit("stored",r.data),"function"==typeof e?e():e&&e.hasOwnProperty("vueTarget")&&e.vueTarget.hide()})).catch((function(e){l(t,e.response.data)}))}},343:function(t,e,r){"use strict";r.r(e);var n={props:{add:{type:Boolean,default:!0},view:{type:Boolean,default:!0},trash:{type:Boolean,default:!0},onTapView:{type:Function,default:function(){console.log("No Action")}},onTapAdd:{type:Function,default:function(){console.log("No Action")}},onTapTrash:{type:Function,default:function(){console.log("No Action")}}}},l=r(82),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-btn-group",{attrs:{size:"sm"}},[t.view?r("b-btn",{attrs:{variant:"dark",title:t.$t("view")},on:{click:t.onTapView}},[r("b-icon-eye")],1):t._e(),t._v(" "),t.add?r("b-btn",{attrs:{variant:"warning",title:t.$t("edit")},on:{click:t.onTapAdd}},[r("b-icon-pencil-fill")],1):t._e(),t._v(" "),t.trash?r("b-btn",{attrs:{variant:"danger",title:t.$t("delete")},on:{click:t.onTapTrash}},[r("b-icon-trash")],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},345:function(t,e,r){"use strict";r.r(e);var n={props:{datatable:{type:Object,required:!0,default:function(){return{current_page:1,last_page:1,from:1,per_page:15,to:1,total:0}}}}},l=r(82),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",{attrs:{md:"6",sm:"12"}},[t._v("\n        "+t._s(t.$t("datatable_footer_left_title",{from:t.$n(t.datatable.from),to:t.$n(t.datatable.to),count:t.$n(t.datatable.to-t.datatable.from+1),total:t.$n(t.datatable.total)}))+"\n    ")]),t._v(" "),r("b-col",{attrs:{md:"6",sm:"12"}},[r("b-pagination",{staticClass:"mb-0",attrs:{size:"sm",align:"right","per-page":t.datatable.per_page,"total-rows":t.datatable.total},scopedSlots:t._u([{key:"page",fn:function(p){return[t._v(t._s(t.$n(p.page)))]}}]),model:{value:t.datatable.current_page,callback:function(e){t.$set(t.datatable,"current_page",e)},expression:"datatable.current_page"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports},347:function(t,e,r){"use strict";var n=r(3);r(34),r(52),r(59),r(247),r(53),r(13),r(12),r(9),r(15),r(11),r(16);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function o(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={data:function(){return{datatable:{current_page:1,last_page:1,from:1,per_page:15,to:1,total:0},fields:[],query_fields:{}}},methods:{getItems:function(t){var e=this,r=new URL(this.$axios.defaults.baseURL+t.apiUrl);return r.searchParams.append("page",t.currentPage),this.$axios.post(r.toString(),o(o({},t),this.query_fields)).then((function(t){var data=t.data;return e.$set(e,"datatable",{current_page:data.current_page,last_page:data.last_page,from:data.from,per_page:data.per_page,to:data.to,total:data.total}),data.data})).catch((function(t){return console.log(t.response),e.$set(e,"datatable",{current_page:1,last_page:1,from:1,per_page:15,to:1,total:0}),[]}))}}}},348:function(t,e,r){var content=r(356);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(127).default)("e9dc2500",content,!0,{sourceMap:!1})},351:function(t,e,r){"use strict";r.r(e);var n={props:{title:{type:String,default:"List"},datatable:{type:Object,required:!0,default:function(){return{current_page:1,last_page:1,from:1,per_page:15,to:1,total:0}}}}},l=r(82),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form-row",[r("b-col",{attrs:{md:"4",sm:"12"}},[t._v(t._s(t.title))]),t._v(" "),r("b-col",{staticClass:"text-right",attrs:{md:"8",sm:"12"}},[r("b-select",{staticStyle:{"max-width":"100px"},attrs:{size:"sm",options:[5,10,15,20,30,40,50,100,200,500,1e3]},model:{value:t.datatable.per_page,callback:function(e){t.$set(t.datatable,"per_page",e)},expression:"datatable.per_page"}}),t._v(" "),t._t("actions")],2)],1)}),[],!1,null,null,null);e.default=component.exports},355:function(t,e,r){"use strict";r(348)},356:function(t,e,r){var n=r(126)(!1);n.push([t.i,".borrower-photo .custom-file-label{border:0}",""]),t.exports=n},362:function(t,e,r){"use strict";r.r(e);var n={props:{item:{type:null|Object},value:{type:Boolean,default:!1}},data:function(){return{is_visible:!1}},watch:{value:function(t){this.is_visible=t}}},l=r(82),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-modal",{attrs:{"header-class":"py-2","footer-class":"py-1","button-size":"sm",size:"lg","ok-title":t.$t("ok"),"cancel-title":t.$t("cancel"),title:t.$t("borrower_details"),"header-bg-variant":"dark","header-text-variant":"light"},on:{hidden:function(e){t.$emit("input",!1),t.$emit("hidden",!0)}},scopedSlots:t._u([{key:"default",fn:function(e){e.hide;return[r("table",{staticClass:"table table-sm table-bordered table-hover"},t._l(Object.keys(t.item),(function(e){return r("tr",[r("th",[t._v(t._s(t.$t(e)))]),t._v(" "),r("td",[["previous_debt","amount","current_debt"].includes(e)?[t._v("\n                        "+t._s(t.$n(t.item[e],{currency:"BDT",style:"currency"}))+"\n                    ")]:["created_at","updated_at","deleted_at","date_of_birth"].includes(e)?[t._v("\n                        "+t._s(t.item[e]?t.$d(new Date(t.item[e])):null)+"\n                    ")]:["payment_method","gender"].includes(e)?[t._v("\n                        "+t._s(t.$t(t.item[e]))+"\n                    ")]:[t._v("\n                        "+t._s(t.item[e])+"\n                    ")]],2)])})),0)]}}]),model:{value:t.is_visible,callback:function(e){t.is_visible=e},expression:"is_visible"}})}),[],!1,null,null,null);e.default=component.exports},363:function(t,e,r){"use strict";r.r(e);r(83);var n=r(339),l={props:{item:{type:null|Object},value:{type:Boolean,default:!1}},data:function(){return{is_visible:!1,form:{}}},methods:{setItem:function(){this.$set(this,"form",JSON.parse(JSON.stringify(this.item)))},handleSubmit:function(t){Object(n.a)(this,t,"/borrowers/store",JSON.parse(JSON.stringify(this.form)))},getType:function(t){return["created_at","updated_at","deleted_at","date_of_birth"].includes(t)?"date":"phone"===t?"tel":"email"===t?"email":"text"},isRequired:function(t){return["name","nid","fathers_name","mothers_name"].includes(t)}},watch:{value:function(t){this.is_visible=t}}},o=(r(355),r(82)),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-modal",{attrs:{"header-class":"py-2","footer-class":"py-1","button-size":"sm",size:"lg","ok-title":t.$t("submit"),"cancel-title":t.$t("cancel"),title:t.$t("borrower_details"),"header-bg-variant":"dark","header-text-variant":"light"},on:{ok:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)},shown:t.setItem,hidden:function(e){t.$emit("input",!1),t.$emit("hidden",!0)}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.hide;return[r("b-form",{ref:"the_form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(n)}}},[r("table",{staticClass:"table table-sm table-bordered table-hover"},[t._l(Object.keys(t.form),(function(e){return[["id","created_at","deleted_at","updated_at"].includes(e)?t._e():r("tr",[r("th",[t._v(t._s(t.$t(e)+(t.isRequired(e)?" *":"")))]),t._v(" "),r("td",{staticClass:"p-0"},["photo"===e?[r("b-form-file",{staticClass:"borrower-photo",attrs:{name:e,required:t.isRequired(e),accept:"image/*","label-class":"border-0",size:"sm"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(n)}},model:{value:t.form[e],callback:function(r){t.$set(t.form,e,r)},expression:"form[x]"}})]:"gender"===e?[r("b-form-select",{staticClass:"border-0",attrs:{size:"sm",required:t.isRequired(e),options:[{value:"male",text:"Male"},{value:"female",text:"Female"},{value:"others",text:"Others"}]},model:{value:t.form[e],callback:function(r){t.$set(t.form,e,r)},expression:"form[x]"}})]:"description"===e?[r("b-form-textarea",{staticClass:"border-0",attrs:{name:e,size:"sm",required:t.isRequired(e)},model:{value:t.form[e],callback:function(r){t.$set(t.form,e,r)},expression:"form[x]"}})]:[r("b-form-input",{staticClass:"border-0",attrs:{name:e,size:"sm",required:t.isRequired(e),type:t.getType(e)},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSubmit(n)}},model:{value:t.form[e],callback:function(r){t.$set(t.form,e,r)},expression:"form[x]"}})]],2)])]}))],2)])]}}]),model:{value:t.is_visible,callback:function(e){t.is_visible=e},expression:"is_visible"}})}),[],!1,null,null,null);e.default=component.exports},372:function(t,e,r){"use strict";r.r(e);var n={mixins:[r(347).a],head:function(){return{title:this.title}},data:function(){return{show_add:!1,show_view:!1,item:null,title:this.$t("borrower_list"),fields:[{key:"id",sortable:!0,label:this.$t("id")},{key:"name",sortable:!0,label:this.$t("name")},{key:"fathers_name",sortable:!0,label:this.$t("fathers_name")},{key:"mothers_name",sortable:!0,label:this.$t("mothers_name")},{key:"date_of_birth",sortable:!0,label:this.$t("date_of_birth")},{key:"phone",sortable:!0,label:this.$t("phone")},{key:"action",label:"",thClass:"text-right",tdClass:"text-right"}]}},methods:{setItem:function(){this.$set(this,"item",{name:null,nid:null,fathers_name:null,mothers_name:null,spouse_name:null,gender:null,date_of_birth:null,present_division:null,present_district:null,present_upazila:null,present_thana:null,present_village:null,permanent_division:null,permanent_district:null,permanent_upazila:null,permanent_thana:null,permanent_village:null,email:null,phone:null,photo:null,description:null})}}},l=r(82),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pt-3"},[r("b-container",{attrs:{fluid:""}},[r("b-card",{attrs:{"body-class":"p-0","header-bg-variant":"dark","header-text-variant":"light","footer-class":"p-2"},scopedSlots:t._u([{key:"header",fn:function(){return[r("datatable-header",{attrs:{title:t.title,datatable:t.datatable},scopedSlots:t._u([{key:"actions",fn:function(){return[r("b-btn-group",{attrs:{size:"sm"}},[r("b-btn",{attrs:{variant:"primary"},on:{click:function(e){t.show_add=!0,t.setItem()}}},[r("b-icon-plus")],1)],1)]},proxy:!0}])})]},proxy:!0},{key:"footer",fn:function(){return[r("datatable-footer",{attrs:{datatable:t.datatable}})]},proxy:!0}])},[t._v(" "),r("b-table",{ref:"datatable",attrs:{"api-url":"/borrowers","per-page":t.datatable.per_page,"current-page":t.datatable.current_page,small:"",hover:"",striped:"","head-variant":"dark",items:t.getItems,fields:t.fields},scopedSlots:t._u([{key:"cell(action)",fn:function(e){return[r("action-btns",{attrs:{"on-tap-add":function(){t.item=JSON.parse(JSON.stringify(e.item)),t.show_add=!0},"on-tap-view":function(){t.item=JSON.parse(JSON.stringify(e.item)),t.show_view=!0}}})]}}])})],1)],1),t._v(" "),r("borrowers-view",{attrs:{item:t.item},on:{hidden:function(e){t.item=null}},model:{value:t.show_view,callback:function(e){t.show_view=e},expression:"show_view"}}),t._v(" "),r("borrowers-add",{attrs:{item:t.item},on:{stored:function(e){return t.$refs.datatable.refresh()},hidden:function(e){t.item=null}},model:{value:t.show_add,callback:function(e){t.show_add=e},expression:"show_add"}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DatatableHeader:r(351).default,ActionBtns:r(343).default,DatatableFooter:r(345).default,BorrowersView:r(362).default,BorrowersAdd:r(363).default})}}]);