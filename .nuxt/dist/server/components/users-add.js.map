{"version":3,"file":"components/users-add.js","sources":["webpack:///./plugins/messages.js","webpack:///./partials/form_methods.js","webpack:///./components/UsersAdd.vue?b412","webpack:///./components/UsersAdd.vue","webpack:///./components/UsersAdd.vue?f0a7","webpack:///./components/UsersAdd.vue?b3c5"],"sourcesContent":["export const successMsgBox = (context, data) => {\n    return context.$bvToast.toast(data.message, {\n        title: data.title || \"SUCCESS\",\n        variant: data.type || \"success\",\n        autoHideDelay: data.delay || 3000,\n        appendToast: true\n    })\n}\nexport const failedMsgBox = (context, data) => {\n    const h = context.$createElement;\n    let content = [];\n    let errors = [];\n    if (data.errors) {\n        for (let x in data.errors) {\n            errors.push(h(\"li\", data.errors[x]));\n        }\n    }\n    content.push(h(\"ol\", {class: ['pl-3']}, errors));\n    const vNodesMsg = h('div', [\n        h('h5', {class: 'font-weight-bold'}, (data.message || \"Operation Failed\")), content\n    ]);\n    return context.$bvToast.toast(vNodesMsg, {\n        title: data.title || \"FAILED\",\n        variant: data.type || \"danger\",\n        autoHideDelay: data.delay || 5000,\n        appendToast: true\n    })\n}\n// export default (context, inject) => {\n//     inject('successMsgBox', (data) => {\n//         // console.log(context.app)\n//         this.$bvToast.toast(data.message, {\n//             title: data.title || \"Successfully Done\",\n//             variant: data.type || \"success\",\n//             autoHideDelay: data.delay || 3000,\n//             appendToast: true\n//         })\n//     })\n// }\n\n\n","import {failedMsgBox, successMsgBox} from \"~/plugins/messages\";\n\nexport const handleSubmit = (context, hide, url, data, ref = \"the_form\") => {\n    if (!context.$refs[ref].checkValidity()) {\n        context.$refs[ref].reportValidity();\n        return false;\n    }\n    context.$axios.post(url, data).then(res => {\n        successMsgBox(context, res.data);\n        context.$emit(\"stored\", res.data);\n        if (typeof hide === \"function\") {\n            hide();\n        } else if (hide && hide.hasOwnProperty('vueTarget')) {\n            hide.vueTarget.hide();\n        }\n    }).catch(err => {\n        failedMsgBox(context, err.response.data);\n    });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"header-class\":\"py-2\",\"footer-class\":\"py-1\",\"button-size\":\"sm\",\"ok-title\":_vm.$t('submit'),\"cancel-title\":_vm.$t('cancel'),\"title\":_vm.$t('user_details'),\"header-bg-variant\":\"dark\",\"header-text-variant\":\"light\"},on:{\"ok\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)},\"shown\":_vm.setItem,\"hidden\":function($event){_vm.$emit('input',false);_vm.$emit('hidden',true);_vm.resetItem();}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hide = ref.hide;\nreturn [_c('b-form',{ref:\"the_form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit(hide)},\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSubmit(hide)}}},[_c('b-form-group',{attrs:{\"label\":_vm.$t('name')}},[_c('b-form-input',{attrs:{\"name\":\"name\",\"size\":\"sm\",\"required\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":_vm.$t('email')}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"name\":\"email\",\"required\":\"\"},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}})],1),_vm._v(\" \"),_c('b-form-group',{attrs:{\"label\":_vm.$t('password')+' (Fill if changes needed)'}},[_c('b-form-input',{attrs:{\"size\":\"sm\",\"type\":\"password\",\"name\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],1)]}}]),model:{value:(_vm.is_visible),callback:function ($$v) {_vm.is_visible=$$v},expression:\"is_visible\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {handleSubmit} from \"~/partials/form_methods\";\n\nexport default {\n    props: {\n        item: {\n            type: Object | null,\n        },\n        value: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {\n            is_visible: false,\n            form: {\n                id: null,\n                name: null,\n                email: null,\n                password: null\n            }\n        }\n    },\n\n    watch: {\n        value(v) {\n            this.is_visible = v;\n        }\n    },\n    methods: {\n        setItem() {\n            this.$set(this, 'form', this.item);\n        },\n        resetItem() {\n            this.$set(this, 'form', {\n                id: null,\n                name: null,\n                email: null,\n                password: null\n            });\n        },\n        handleSubmit(hide) {\n            handleSubmit(this, hide, \"/users/store\", JSON.parse(JSON.stringify(this.form)));\n        },\n    }\n};\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersAdd.vue?vue&type=template&id=3c25706c&\"\nimport script from \"./UsersAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"356dbba4\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAJA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AAfA;AA3BA;;ACjCA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}