(window.webpackJsonp=window.webpackJsonp||[]).push([[2,7,20],{311:function(e,t,n){var content=n(314);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(103).default)("f497bbde",content,!0,{sourceMap:!1})},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=function(e,data){return e.$bvToast.toast(data.message,{title:data.title||"SUCCESS",variant:data.type||"success",autoHideDelay:data.delay||3e3,appendToast:!0})},o=function(e,data){var t=e.$createElement,content=[],n=[];if(data.errors)for(var r in data.errors)n.push(t("li",data.errors[r]));content.push(t("ol",{class:["pl-3"]},n));var o=t("div",[t("h5",{class:"font-weight-bold"},data.message||"Operation Failed"),content]);return e.$bvToast.toast(o,{title:data.title||"FAILED",variant:data.type||"danger",autoHideDelay:data.delay||5e3,appendToast:!0})},l=function(e,t,n,data){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"the_form";if(!e.$refs[l].checkValidity())return e.$refs[l].reportValidity(),!1;e.$axios.post(n,data).then((function(n){r(e,n.data),e.$emit("stored",n.data),"function"==typeof t?t():t&&t.hasOwnProperty("vueTarget")&&t.vueTarget.hide()})).catch((function(t){o(e,t.response.data)}))}},313:function(e,t,n){"use strict";n(311)},314:function(e,t,n){var r=n(102)(!1);r.push([e.i,".typehead-dd .dropdown-menu-scrollable{max-height:300px;overflow-y:scroll!important;overflow-x:auto;width:100%}.typehead-dd .dropdown-toggle{text-align:left}.typehead-dd .dropdown-toggle:after{right:10px;position:absolute;margin-top:6px}.typehead-dd .dd-toggle-border-color{border:1px solid #ced4da}",""]),e.exports=r},315:function(e,t,n){"use strict";n.r(t);n(219),n(2),n(65),n(66),n(17);var r=n(1),o={name:"VSelect",props:{initialItem:{default:null},initPlaceholder:{type:String,default:function(){return"Not Selected"}},variant:{type:String,default:"outline-dark"},block:{type:Boolean,default:!0},menuClass:{type:String,default:null},searchSize:{type:String,default:"sm"},searchPlaceholder:{type:String,default:"Search Items..."},options:{type:Array|Function,default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},value:{default:null},clearSearchOnSelect:{type:Boolean,default:!1},limit:{type:Number,default:null},toggleClass:{type:String|Array,default:"dd-toggle-border-color"}},beforeMount:function(){this.init.text=this.initPlaceholder},mounted:function(){this.initial&&this.value&&this.searchItems(this.value,!0)},watch:{value:function(e){this.initial&&e&&this.searchItems(e,!0)},query:function(e){this.searchItems(e)},selectedItem:function(e){Object(r.j)(e)&&!Array.isArray(e)?"function"==typeof this.textField?this.init.text=this.textField(e):this.init.text=e[this.textField]:this.init.text=this.initPlaceholder,Object(r.j)(e)&&!Array.isArray(e)?"function"==typeof this.valueField?this.$emit("input",this.valueField(e)):this.$emit("input",e[this.valueField]):this.$emit("input",e)}},data:function(){return{init:{text:"Select Element"},query:null,selectedItem:null,searchedItems:[],initial:!0}},methods:{dropdownOpened:function(){this.$el.querySelector("[type='search']").focus()},itemSelected:function(e){this.$set(this,"selectedItem",e),this.clearSearchOnSelect&&(this.query=null),this.$emit("itemSelected",e)},searchItems:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(this.options)){var r=this.options.filter((function(i){return i[t.textField].toLocaleLowerCase().includes((e||"").toLocaleLowerCase())}));this.limit&&(r=r.slice(0,this.limit)),this.$set(this,"searchedItems",r)}else"function"==typeof this.options&&this.options(e,n).then((function(e){n?(t.$set(t,"searchedItems",[e]),t.selectedItem=e):t.$set(t,"searchedItems",e),t.initial=!1}))}}},l=(n(313),n(64)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-dd",e._b({staticClass:"typehead-dd",attrs:{"toggle-class":e.toggleClass,"menu-class":["dropdown-menu-scrollable",e.menuClass].join(" ")},on:{shown:e.dropdownOpened}},"b-dd",Object.assign({},e.$props,e.$attrs,e.init),!1),[n("b-input",{staticClass:"ml-2 mr-2",staticStyle:{width:"calc(100% - 14px)"},attrs:{placeholder:e.searchPlaceholder,size:e.searchSize,type:"search"},on:{input:function(t){return e.$emit("search",t)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e._v(" "),e._l(e.searchedItems,(function(t,r){return n("b-dd-item",{key:r,on:{click:function(n){return e.itemSelected(t)}}},[e._v("\n        "+e._s(t[e.textField])+"\n    ")])}))],2)}),[],!1,null,null,null);t.default=component.exports},319:function(e,t,n){"use strict";n.r(t);var r={props:{value:{default:null}},data:function(){return{query:null,item:null}},watch:{value:function(e){this.$set(this,"item",e)},item:function(e){this.$emit("input",e)}},mounted:function(){this.item=this.value},methods:{searchItems:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$axios.post("/borrowers/search",{exact:t,filter:e}).then((function(e){return e.data})).catch((function(e){return console.log(e.response),[]}))}}},o=n(64),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-select",{attrs:{size:"sm","toggle-class":"border-0","init-placeholder":"Search Borrower",options:e.searchItems},on:{itemSelected:function(t){return e.$emit("itemSelected",t)}},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{VSelect:n(315).default})},331:function(e,t,n){"use strict";n.r(t);n(65);var r=n(312),o={props:{item:{type:null|Object},value:{type:Boolean,default:!1}},computed:{loan_types:function(){return[{text:(e=this).$t("saving"),value:"saving"},{text:e.$t("loan"),value:"loan"},{text:e.$t("share"),value:"share"},{text:e.$t("combo"),value:"combo"}];var e},active_inactive:function(){return[{text:(e=this).$t("yes"),value:1},{text:e.$t("no"),value:0}];var e}},data:function(){return{is_visible:!1,form:{}}},methods:{handleSubmit:function(e){Object(r.a)(this,e,"/accounts/store",JSON.parse(JSON.stringify(this.form)))},setItem:function(){this.$set(this,"form",JSON.parse(JSON.stringify(this.item)))},getType:function(e){return["opening_date","closing_date"].includes(e)?"date":"text"},isRequired:function(e){return["borrower_id","account_no","account_name","type","opening_date"].includes(e)}},watch:{value:function(e){this.is_visible=e}}},l=n(64),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{"header-class":"py-2","footer-class":"py-1","button-size":"sm","ok-title":e.$t("submit"),"cancel-title":e.$t("cancel"),title:e.$t("account_details"),"header-bg-variant":"dark","header-text-variant":"light"},on:{ok:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)},shown:e.setItem,hidden:function(t){e.$emit("input",!1),e.$emit("hidden",!0),e.form={}}},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.hide;return[n("b-form",{ref:"the_form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(r)}}},[n("table",{staticClass:"table table-sm table-bordered table-hover"},e._l(["borrower_id","account_no","account_name","type","is_active","opening_date","closing_date"],(function(t){return n("tr",[n("td",[e._v(e._s(e.$t("borrower_id"===t?"borrower":t)+(e.isRequired(t)?" *":"")))]),e._v(" "),n("td",{staticClass:"p-0"},[["type"].includes(t)?[n("b-form-select",{staticClass:"border-0",attrs:{required:e.isRequired(t),size:"sm",options:e.loan_types},model:{value:e.form[t],callback:function(n){e.$set(e.form,t,n)},expression:"form[x]"}})]:["borrower_id"].includes(t)?[n("borrowers-select",{staticClass:"border-0",model:{value:e.form[t],callback:function(n){e.$set(e.form,t,n)},expression:"form[x]"}})]:["is_active"].includes(t)?[n("b-form-radio-group",{staticClass:"m-1",attrs:{required:e.isRequired(t),options:e.active_inactive},model:{value:e.form[t],callback:function(n){e.$set(e.form,t,n)},expression:"form[x]"}})]:[n("b-form-input",{staticClass:"border-0",attrs:{required:e.isRequired(t),type:e.getType(t),size:"sm"},model:{value:e.form[t],callback:function(n){e.$set(e.form,t,n)},expression:"form[x]"}})]],2)])})),0),e._v(" "),n("b-form-group",{attrs:{label:e.$t("description")}},[n("b-form-textarea",{attrs:{rows:4,required:e.isRequired("description"),size:"sm",options:e.loan_types},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form['description']"}})],1)],1)]}}]),model:{value:e.is_visible,callback:function(t){e.is_visible=t},expression:"is_visible"}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{BorrowersSelect:n(319).default})}}]);